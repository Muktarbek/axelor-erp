<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://axelor.com/xml/ns/object-views https://axelor.com/xml/ns/object-views/object-views_7.1.xsd">

    <grid name="train-grid" title="Train List" model="com.axelor.train.db.Trains">
        <field name="id"/>
        <field name="departureCountry"/>
        <field name="departureStation"/>
        <field name="destinationCustomsDepartment"/>
        <field name="arrivedDate"/>
        <field name="types"/>
        <field name="status"/>
        <field name="wagons"/>
    </grid>
<!--    onSave="com.axelor.train.web.TrainsController:updateTrain"-->
    <form name="train-form" title="Train" model="com.axelor.train.db.Trains">
<!--        <toolbar>-->
<!--            <button name="edit" title="edit" onClick="com.axelor.train.web.TrainController:updateTrain"/>-->
<!--        </toolbar>-->
        <panel title="Overview">
            <field name="departureCountry" colSpan="12"/>
            <field name="departureStation"/>
            <field name="destinationCustomsDepartment"/>
            <field name="arrivedDate"/>
            <field name="types"/>
<!--            <field name="company" readonlyIf="statusSelect != 1 || partner != null" colSpan="4" onChange="action-group-account-invoice-company-onchange" form-view="wagon-form" grid-view="wagon-grid"/>-->
            <field name="wagons" canSelect="true" onChange="updateWagonsCount"/>
            <field name="wagonsCount" readonly="true"/>
        </panel>
    </form>

    <action-attrs name="action-count-wagons">
        <attribute name="wagonsCount" expr="eval: __this__.wagons?.size()" for="wagonsCount"/>
    </action-attrs>

    <selection name="types.selection">
        <option value="DIESEL_ENGINE">DIESEL_ENGINE</option>
        <option value="PETROL_ENGINE">PETROL_ENGINE</option>
    </selection>

    <selection name="status.selection">
        <option value="ARRIVED">ARRIVED</option>
        <option value="DEPARTED">DEPARTED</option>
    </selection>

    <!--            onChange="com.axelor.company.web.CompaniesController:updateCompany"-->
    <!--            <button name="btnTotalAmount" onClick="com.axelor.company.web.CompaniesController:updateCompany" title="Edit"/>-->

</object-views>
